<div class="split-root" [ngClass]="[side() === 'left' ? 'side-left' : 'side-right', chartplotterModeInPortrait() ? 'portrait-column' : '']" [style.--panel-ratio]="panelRatio()">
  @if(ghostActive()) {
    <!-- Ghost line shown only while resizing -->
    <div class="resize-ghost" [style.transform]="ghostTransform()"></div>
  }
  <div class="fsk-shell" #panel
    [style.width.px]="!chartplotterModeInPortrait() ? panelWidth() : null"
    [class.collapsed]="panelCollapsed()"
    [class.drag-disabled]="!canResize()">
    @if(canResize()) {
      <div class="drag-handle"
        (pointerdown)="startResize($event)"
        role="separator"
        aria-label="Resize Freeboard chartplotter panel"
        aria-orientation="vertical">
        <button mat-mini-fab class="drag-fab" tabindex="-1" aria-hidden="true" (pointerdown)="startResize($event)">
          <mat-icon fontIcon="drag_indicator"></mat-icon>
        </button>
      </div>
    }
    <widget-freeboardsk class="fsk-iframe"
      [type]="freeboardWidgetStub.type"
      [id]="freeboardWidgetStub.uuid"
      [swipeDisabled]="fskShellSwipeDisabled()"
      [disableWidgetShell]="true" />
  </div>
  <div class="dash-container">
    <dashboard />
  </div>
</div>
