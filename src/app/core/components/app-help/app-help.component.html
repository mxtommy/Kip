<page-header [pageTitle]="pageTitle" />
<mat-tab-group class="tabGroups mat-typography page-content-wrapper" style="opacity: 0.8;">
  <mat-tab label="Configuration Management">
    <div class="tabGroupPanel">
      <h5>Where does KIP save my configuration?</h5>
      <p>KIP has a "Login to Server" option that can either be enabled or disabled. This
         option sets the configuration storage location. The "Login to Server"
         configuration option is located in the Settings under the Connectivity tab.</p>
      <ul>
        <li>Login to Server: Disabled (default value) - KIP loads and stores its configuration locally in the Browser - Local Storage.</li>
        <li>Login to Server: Enabled - KIP loads and stores its configuration remotely on the
          Signal K server - Remote Storage.</li>
      </ul>

      <h6>Local Storage</h6>
      <p>If you don't enable "Login to Server", KIP saves your configuration locally.
        In this mode, KIP automatically saves and retrieves all configuration
        changes (settings, dashboards, layouts, Widget options,
        etc.) using your browser's local storage. This means that each browser you use
        has its own independent KIP configuration.</p>
      <p>In this mode, your KIP configuration <strong>is not shared</strong> between instances of KIP.</p>

      <h6>Storage on the Signal K server</h6>
        <p><i>In this mode, your KIP configuration is shared with all devices
          <strong>as long as you authenticate to Signal K using the same User ID</strong>.
          It's that simple!</i></p>
        <p>If you connect to a server with "Login to Server" enabled, KIP will store your
          configuration on the Signal K server. In this mode, KIP automatically saves and
          retrieves all configuration changes (settings, dashboards, layouts, Widget options,
          etc.) automatically to and from the Signal K server.</p>
        <ul>
          <li> NOTE: KIP will always load the configuration named "default".
          As you work towards your perfect configuration, KIP automatically updates this
          configuration. <strong>KIP will always load and execute the configuration named "default".</strong></li>
        </ul>
        <p>You can use KIP's Configurations menu option, accessible from right side bar, to
          backup the "default" configuration to a new name. This creates a backup
          of your "default" configuration. Copying a configuration back onto "default" will overwrite the active
          configuration and trigger KIP to automatically reload with that configuration.
          </p>
          <p>You can also create different Signal K users, each with their respective configurations.
            Use this approach to target configuration for different device form factors,
            station, crew roles, etc. Keeping all those concepts in mind, plan carefully and leverage KIP's
            configuration management flexibility to its fullest.</p>

        <h6>Remote Storage Scopes</h6>
        <ul>
          <li><p>User Storage Scope: When connecting to a server with "Login to Server" enabled, Signal K stores
            configuration under the logged in user's storage space.
            Each user has their own independent private storage space. Users can't access or view each other's
            storage. When you modify configurations, either by changing the default configuration, or copying,
            deleting, or saving a new configuration from the Storage tab, you are always modifying the currently logged
            in user's storage (the configuration of the user you are authenticated as while doing those operations). </p>
            <p>You can never access other user's config or accidentally overwrite them. To view another user's
            configuration, authenticate as that user. KIP will always read and execute the configuration named "default"
            from the User Scope.</p></li>
          <li>Global Storage Scope: Signal K also offer a shared storage space that is independent of the
            User Scope. This storage space is known as the
            Global Scope. Global Scope is only visible to users with Signal K "Admin" permission.
            Use Global Scope to Save/Copy configurations between different users (both users
            will momentary need admin permission).</li>
        </ul>
        <p>Note that KIP will <strong>never load and execute configurations
        from the Global Scope</strong>, even if the configuration is named "default".</p>
      <h6>Creating a Signal K user</h6>
        <p>To login to Signal K, a user must first be created. To create a Signal K User:
        </p>
        <ol>
          <li>Go to Signal K server's Security > Users menu and click "Add" to create a new user.
            <p>NOTE: KIP uses Signal K's user authentication. You can not manage your list of users in KIP.</p>
          </li>
          <li>Provide the user a "User ID" and "Password"</li>
          <li>Assign "Read/Write" permission at a minimum. If you want the user to be able access
            Global Storage, add the "Admin" permission as well</li>
          <li>Click Apply</li>
        </ol>
      </div>
  </mat-tab>


  <mat-tab label="Editing Layout">
    <div class="tabGroupPanel">
      <div *ngIf="!unlockStatus">
        <h6>Unlocking</h6>
        <p>
          The layout is "Locked" by default. This is to prevent accidental interaction from touch screens from changing anything.
          You can unlock KIP using the hamburger icon in the lower right corner and selecting "Configuration > Edit Layout". Go Ahead try it now!
        </p>
      </div>
      <div *ngIf="unlockStatus">
        <h6>Configuring Layout</h6>
        <p>
          Now that KIP is unlocked, you can do a few actions.
        </p>
        <ul>
          <li>The icon in the lower left will "split" the existing area. You can use this to display multiple items on one page</li>
          <li>The icon in the lower right will select the widget you would like to display</li>
          <li>The "X" in the upper right can be used to delete an area (basically undoing a split)</li>
          <li>Once you have added a widget, use the "gear" in the middle to set up the widget parameters</li>
          <li>You can drag the bars between widgits to resize them</li>
        </ul>
        When you are done, use the hamburger icon in the lower right corner and select "Configuration > Lock Layout" to freeze your configuration.
      </div>
    </div>
  </mat-tab>


  <mat-tab label="Video Tutorials">
    <div class="tabGroupPanel">
      <ng-template matTabContent>
        <mat-tab-group class="tabGroups">
          <mat-tab label="KIP">
            <div class="tabGroupPanel">
              <mat-accordion>

                <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      KIP version 2.x
                    </mat-panel-title>
                    <mat-panel-description>
                      What's new
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/uDas858rf6Y?si=Gtw4emrKRGlJ1DXL" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      5 Minutes with KIP
                    </mat-panel-title>
                    <mat-panel-description>
                      Introduction to using KIP (by Boating with the Baileys)
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/v6o4uK-Iq8s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Graphana embeded
                    </mat-panel-title>
                    <mat-panel-description>
                      Pretty graphs (by Boating with the Baileys)
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/S8FbtwBwW3w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </mat-tab>

          <mat-tab label="Graphana">
            <div class="tabGroupPanel">
              <mat-accordion>
                <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      5 Minutes with Graphana
                    </mat-panel-title>
                    <mat-panel-description>
                      Introduction to using Graphana (by Boating with the Baileys)
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/b3lHwLnYgx0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Signal K to InfluxDB
                    </mat-panel-title>
                    <mat-panel-description>
                      Database to store historical data (by Boating with the Baileys)
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/ULnN-cByQXE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </mat-tab>

          <mat-tab label="OpenPlotter">
            <div class="tabGroupPanel">
              <mat-accordion>
                <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      OpenPlotter
                    </mat-panel-title>
                    <mat-panel-description>
                      Installing OpenPlotter (by Boating with the Baileys)
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/Q0sEpgzhHTE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      OpenPlotter instruction video
                    </mat-panel-title>
                    <mat-panel-description>
                      Installing OpenPlotter (by Smart Sailing Boat)
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/r8CGixMl18k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </mat-tab>

        </mat-tab-group>
      </ng-template>
    </div>
  </mat-tab>
  <mat-tab label="Contact Us">
    <div class="tabGroupPanel">
      <h6>Get in Touch</h6>
      <p>KIP has it's own channel on the Signal K Discord server. Join the channel to
        get help, see what others do with KIP and Signal K, get the latest news and share your ideas.
        <br />
        Join us at <a href="https://discord.gg/AMDYT2DQga" target="_blank">KIP Discord channel</a>.
      </p>
      <h6>Feature Requests and Bug Report</h6>
      <p>To make a feature request or report a bug, use the <a href="https://github.com/mxtommy/Kip/issues" target="_blank">KIP GitHub project</a>.</p>
    </div>
  </mat-tab>
</mat-tab-group>


