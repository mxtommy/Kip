<section
  class="multi-state-switch"
  [class.no-title]="!showLabel()"
  [style.--multi-state-accent]="accentColor()"
  [style.--multi-state-accent-dim]="accentDim()"
>
  @if (showLabel()) {
    <widget-title [text]="displayName()" [color]="labelColor()"></widget-title>
  }

  <div class="control" role="group" [attr.aria-label]="displayName()">
    @if (hasOptions()) {
      @for (option of options(); track option.value) {
        <button
          type="button"
          class="state-button"
          [class.is-selected]="isSelected(option)"
          [class.is-off]="option.isOn === false"
          [disabled]="!canInteract()"
          [attr.aria-pressed]="isSelected(option)"
          (click)="select(option)"
        >
          {{ option.title || option.abbrev || option.value }}
        </button>
      }
    } @else {
      <div class="empty-state">No multi-state metadata available.</div>
    }
  </div>
</section>
