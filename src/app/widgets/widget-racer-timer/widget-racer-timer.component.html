<widget-host [(config)]="widgetProperties.config" [id]="widgetProperties.uuid" (configChange)="updateConfig($event)">
  <div class="text-generic-wrapper" (onResize)="onResized($event)">
    <widget-title [text]="widgetProperties.config.displayName" [color]="labelColor"/>

    <div class="filler">
      <canvas #timeToSCanvas class="canvas"></canvas>
    </div>
    <div class="buttons-container">
      <button mat-flat-button class="select-button" (click)="toggleMode()">&#8942;</button>
      @switch(mode) {
        @case (-1) {
          <span class="start-at" [style.font-size]="infoFontSize">{{errorMessage}}</span>
        }
        @case (0) {
          <span class="start-at" [style.font-size]="infoFontSize">{{startAtValue}}</span>
        }
        @case (1) {
          <button mat-flat-button class="main-button" (click)="sendStartTimerCommand('start')">Start</button>
          <button mat-flat-button class="other-small-button" (click)="adjustStartTime(-60)">-1m</button>
          <button mat-flat-button class="other-small-button" (click)="adjustStartTime(+60)">+1m</button>
        } @case (2) {
          <button mat-flat-button class="main-button" (click)="sendStartTimerCommand('sync')">Sync</button>
          <button mat-flat-button class="other-button" (click)="sendStartTimerCommand('reset')">Reset</button>
        } @case (3) {
          <button mat-flat-button class="main-small-button" (click)="adjustStartTime(-60)">-1m</button>
          <button mat-flat-button class="other-small-button" (click)="adjustStartTime(-1)">-1s</button>
          <button mat-flat-button class="other-small-button" (click)="adjustStartTime(+1)">+1s</button>
          <button mat-flat-button class="main-small-button" (click)="adjustStartTime(+60)">+1m</button>
        } @case (4) {
          <input class="set-start-at" type="text" [style.font-size]="infoFontSize" [(ngModel)]="startAtTimeEdit" (keyup.enter)="setStartTime(startAtTimeEdit)">
        }
      }
    </div>
  </div>
</widget-host>
