<mat-tab-group class="tabGroup">
  <mat-tab label="Editing Layout">
    <div *ngIf="!unlockStatus">
      <h3>Unlocking</h3>
      <p>
        The layout is "Locked" by default. This is to prevent accidental interaction from touch screens from changing anything.
        You can unlock KIP using the hamburger icon in the lower right corner and selecting "Configuration -> Edit Layout". Go Ahead try it now!
      </p>
    </div>
    <div *ngIf="unlockStatus">
      <h3>Configuring Layout</h3>
      <p>
        Now that KIP is unlocked, you can do a few actions.
      </p>
      <ul>
        <li>The icon in the lower right can be used to select the Widget you would like to display</li>
        <li>The icon in the lower left can be used to "split" the existing area. You can use this to display multiple items on one page</li>
        <li>The "X" in the upper right can be used to delete an area (basically undoing a split)</li>
        <li>Once a widget is selected, there will be a gear in the lower middle. Clicking it will allow you to setup the widget parameters</li>
        <li>You can drag the bars between widgits to resize them</li>
      </ul>

    </div>

  </mat-tab>
  <mat-tab label="Configuration Management">
      <h3>Kip Configuration</h3>
      <p>The configuration works differently depending on your configuiration settings found in the Signal K connection settings tab.</p>
      <h4>Enable user Sign in and configuration sharing: Enabled</h4>
    <p> With "Enable user Sign in
      and configuration sharing" option enabled, the configuration
      is automatically saved and retreived from the server as you configure Kip. If you use
      multiple devices and browsers (computer, phones, tablets, Raspberry Pi, etc.), you can
      seamlessly share the configuration between all those devices,
      as long as you sign in to the same server with the same user.
    </p>
    <p>
      To use this feature, you need to follow a few simple steps. First is creating a user with "Admin Permissions" in
      Signal K:
    </p>
    <ol>
      <li>Go to Signal K server's Security/User menu to create a user with "Admin Permissions"</li>
      <li>Come back to Kip and go to the Configuration/Settings menu. In the "Signal K" tab, toggle
        the "Enable user Sign in and configuration sharing" option to On</li>
      <li>Click the "Set Sign in credentials" button and enter the previously created
          user ID and password</li>
      <li>Click the "Sign in" button</li>
    </ol>
    <p>From then on, the configuration will be shared. Remember to sign in with the same
      user and password on other devices to use that config! Have fun...</p>

    <h4>Enable user Sign in and configuration sharing: Disabled</h4>
    <p>If "Enable user Sign in and configuration sharing" option is not enabled, the configuration
      is stored in the local browser storage of each individual instances of the different browsers, on each devices you use
      (computers, phones, tablets...).
      You can still manually copy local storage configurations to other devices/browsers.</p>

    <p>To do so you must first have rigths to save configuration to the server using a Device
      Authorization Token. Follows those simple steps:</p>
    <ol>
      <li>Go to the Configuration/Settings menu in the "Signal K" tab and click the "Request Token"
        button</li>
      <li>Then go to the Signal K server and approve the request in the Security/Access Requests menu</li>
    </ol>
    <p>Once approved, on the device with the
      configuration you want to copy, name the config and save it to the Global storage. Then use
      the other devices and load the config from the server. Note that the Device Authorization Token is only
      required on the device saving the configuration. IMPORTTANT: everytime you make a configuration
      change that you want to replicate, you must manually re-save and re-load on all devices.
    </p>
  </mat-tab>
  <mat-tab label="Video Tutorials">
    <ng-template matTabContent>
      <mat-tab-group class="tabGroup">

        <mat-tab label="KIP">
          <mat-accordion>
            <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  5 Minutes with Kip (by Boating with the Baileys)
                </mat-panel-title>
                <mat-panel-description>
                  Introduction to using KIP
                </mat-panel-description>
              </mat-expansion-panel-header>
              <iframe width="560" height="315" src="https://www.youtube.com/embed/v6o4uK-Iq8s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </mat-expansion-panel>

            <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Graphana embeded in KIP (by Boating with the Baileys)
                </mat-panel-title>
                <mat-panel-description>
                  Pretty graphs
                </mat-panel-description>
              </mat-expansion-panel-header>
              <iframe width="560" height="315" src="https://www.youtube.com/embed/S8FbtwBwW3w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </mat-expansion-panel>

            <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Setting up zones in KIP (by Boating with the Baileys)
                </mat-panel-title>
                <mat-panel-description>
                  Warnings/Alarms
                </mat-panel-description>
              </mat-expansion-panel-header>
              <iframe width="560" height="315" src="https://www.youtube.com/embed/BJFjLzjlpuY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </mat-expansion-panel>

          </mat-accordion>

        </mat-tab>

        <mat-tab label="Graphana">
          <mat-accordion>
            <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  5 Minutes with Graphana (by Boating with the Baileys)
                </mat-panel-title>
                <mat-panel-description>
                  Introduction to using Graphana
                </mat-panel-description>
              </mat-expansion-panel-header>
              <iframe width="560" height="315" src="https://www.youtube.com/embed/b3lHwLnYgx0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </mat-expansion-panel>

            <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  SignalK to InfluxDB (by Boating with the Baileys)
                </mat-panel-title>
                <mat-panel-description>
                  Database to store historical data
                </mat-panel-description>
              </mat-expansion-panel-header>
              <iframe width="560" height="315" src="https://www.youtube.com/embed/ULnN-cByQXE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>

        <mat-tab label="OpenPlotter">
          <mat-accordion>
            <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  OpenPlotter (by Boating with the Baileys)
                </mat-panel-title>
                <mat-panel-description>
                  Installing OpenPlotter
                </mat-panel-description>
              </mat-expansion-panel-header>
              <iframe width="560" height="315" src="https://www.youtube.com/embed/Q0sEpgzhHTE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </mat-expansion-panel>

            <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  OpenPlotter instruction video (by Smart Sailing Boat)
                </mat-panel-title>
                <mat-panel-description>
                  Installing OpenPlotter
                </mat-panel-description>
              </mat-expansion-panel-header>
              <iframe width="560" height="315" src="https://www.youtube.com/embed/r8CGixMl18k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>

      </mat-tab-group>
    </ng-template>

  </mat-tab>
</mat-tab-group>


