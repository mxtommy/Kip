<mat-tab-group class="tabGroups mat-typography">

  <mat-tab label="Configuration Management">
    <div class="tabGroupPanel">
      <h3>How does KIP handle configuration?</h3>
      <p>KIP has a "Signal K Authentication" option that can either be enabled or disabled. This
         option sets the configuration storage location. The "Signal K Authentication"
         configuration option is located in the "Signal K" tab under the Configuration/Settings
         menu.</p>
      <ul>
        <li>Signal K Authentication: Disabled (default value) - KIP stores it's configuration localy.</li>
        <li>Signal K Authentication: Enabled - KIP stores it's configuration remotly on the
          Signal K server.</li>
      </ul>

      <h4>Local Storage</h4>
      <p>Connecting without enabling "Signal K Authentication" activates KIP's Local Storage
        feature. In Local Storage, KIP automatically saves and retreives all configuration
        changes (application settings, pages, layouts, Widget Options,
        etc.) in realtime from the browser storage. This means that each browser
        has it's own configuration and so if you use multiple devices, and maybe multiple browsers
        (Chromium, Chrome, Firefox, etc.) on each of those devices, they will all have
        independent configurations.</p>
      <p>In this mode, <strong>configuration is not shared</strong>.</p>

      <h4>Remote Storage</h4>
        <p><i>This mode offfers automatic configuration sharing to any device and any browser, <strong>
          as long as you authenticate to Signal K using the same User ID</strong>.
          It's that simple!</i></p>
        <p>Connecting to a server with the "Signal K Authentication" enabled, activates KIP's
          remote configuration storage feature. In Remote Storage, KIP automatically saves and
          retreives all configuration changes (application settings, pages, layouts, Widget Options,
          etc.) automatically in realtime to/from the server.</p>
        <ul>
          <li> Configuration named "default": KIP always uses the configuration named "default".
          As you work towards your perfect configuration, KIP automatically updates this
          configuration. <strong>KIP will always load and execute the configuration named "default".</strong></li>
        </ul>
        <p>Using KIP's Storage tab, accessible from Configuration/Settings menu, you can manually
          copy the "default" configuration to a new configuration and provide it
          a different name. This creates a backup or a version of "default". Reversly, copying a
          configuration back onto "default" will overwrite KIP's active
          configuration and triggure an automatic application reload to take those changes into effect.
          </p>
          <p>You can also create different Signal K users, each with their respective configurations.
            You can use this approach to target configuration for different device form factors,
            station, crew roles, etc. Keeping all those concepts in mind, plan varefully and leverage KIP's
            configuration management flexibility to it's fullest.</p>

        <h4>Remote Storage Scopes</h4>
        <ul>
          <li>User Storage Scope: When connecting to a server with the "Signal K Authentication" enabled, Signal K will stores
            configuration under the logged in user's storage space.
            Each user has it's own independent private storage space. This storage space is known as the
            User Scope in KIP. Users can't access or view each other's
            storage. When you work with configurations, either by changing KIP's config, copying,
            deleting or saving a new configuration from the Storage tab, you are always accessing the current active user's
            storage (the configuration of the user you are authenticated as while doing theose pperations).
            You can never access other user's config or accidentally overwite them. To view another user's
            configuration, authenticate as that user. KIP will always read and execute the configuration named "default"
            from the User Scope.</li>
          <li>Global Storage Scope: Signal K also offer a shared storage space that is independent of the
            User Scope. This storage space is known as the
            Global Scope in KIP. Global Scope is only visible to users with Signal K "Admin" permission.
            Use Global Scope to Save/Copy configurations between different users (both users
            will momentarly need admin permission).</li>
        </ul>
        <p>Note that KIP will <strong>never load and execute configurations
        from the Global Scope</strong>, even if it's named "default".</p>
      <h3>Creating a Signal K user</h3>
        <p>To authenticate to Signal K, a user must first be created. Foolow the below basic steps
          to create a Signal K User:
        </p>
        <ol>
          <li>Navigate to Signal K server's Security/Users menu and click "Add" to create a new user</li>
          <li>Provide the user a "User ID" and "Password"</li>
          <li>Assign "Read/Write" permission at a minimum. If you want the ability to access the
            Global Storage with this "User ID", assign "Admin" permission</li>
          <li>Click Apply and you are done</li>
        </ol>
      </div>
  </mat-tab>


  <mat-tab label="Editing Layout">
    <div class="tabGroupPanel">
      <div *ngIf="!unlockStatus">
        <h3>Unlocking</h3>
        <p>
          The layout is "Locked" by default. This is to prevent accidental interaction from touch screens from changing anything.
          You can unlock KIP using the hamburger icon in the lower right corner and selecting "Configuration -> Edit Layout". Go Ahead try it now!
        </p>
      </div>
      <div *ngIf="unlockStatus">
        <h3>Configuring Layout</h3>
        <p>
          Now that KIP is unlocked, you can do a few actions.
        </p>
        <ul>
          <li>The icon in the lower right can be used to select the Widget you would like to display</li>
          <li>The icon in the lower left can be used to "split" the existing area. You can use this to display multiple items on one page</li>
          <li>The "X" in the upper right can be used to delete an area (basically undoing a split)</li>
          <li>Once a widget is selected, there will be a gear in the lower middle. Clicking it will allow you to setup the widget parameters</li>
          <li>You can drag the bars between widgits to resize them</li>
        </ul>
      </div>
    </div>
  </mat-tab>


  <mat-tab label="Video Tutorials">
    <div class="tabGroupPanel">
      <ng-template matTabContent>
        <mat-tab-group class="tabGroups">
          <mat-tab label="KIP">
            <div class="tabGroupPanel">
              <mat-accordion>
                <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      5 Minutes with Kip (by Boating with the Baileys)
                    </mat-panel-title>
                    <mat-panel-description>
                      Introduction to using KIP
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/v6o4uK-Iq8s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Graphana embeded in KIP (by Boating with the Baileys)
                    </mat-panel-title>
                    <mat-panel-description>
                      Pretty graphs
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/S8FbtwBwW3w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Setting up zones in KIP (by Boating with the Baileys)
                    </mat-panel-title>
                    <mat-panel-description>
                      Warnings/Alarms
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/BJFjLzjlpuY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

              </mat-accordion>
            </div>
          </mat-tab>

          <mat-tab label="Graphana">
            <div class="tabGroupPanel">
              <mat-accordion>
                <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      5 Minutes with Graphana (by Boating with the Baileys)
                    </mat-panel-title>
                    <mat-panel-description>
                      Introduction to using Graphana
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/b3lHwLnYgx0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Signal K to InfluxDB (by Boating with the Baileys)
                    </mat-panel-title>
                    <mat-panel-description>
                      Database to store historical data
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/ULnN-cByQXE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </mat-tab>

          <mat-tab label="OpenPlotter">
            <div class="tabGroupPanel">
              <mat-accordion>
                <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      OpenPlotter (by Boating with the Baileys)
                    </mat-panel-title>
                    <mat-panel-description>
                      Installing OpenPlotter
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/Q0sEpgzhHTE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      OpenPlotter instruction video (by Smart Sailing Boat)
                    </mat-panel-title>
                    <mat-panel-description>
                      Installing OpenPlotter
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/r8CGixMl18k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </mat-tab>

        </mat-tab-group>
      </ng-template>
    </div>
  </mat-tab>
</mat-tab-group>


